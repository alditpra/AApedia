---
export interface Props {
  title: string;
  description: string;
  icon: string;
  badge?: string;
  badgeColor?: string;
  price?: string;
  href: string;
}

const {
  title,
  description,
  icon,
  badge,
  badgeColor = "primary",
  price,
  href,
} = Astro.props;

const badgeColorClasses = {
  primary: "bg-primary-100 text-primary-700",
  accent: "bg-accent-100 text-accent-700",
  orange: "bg-gradient-to-r from-orange-400 to-red-400 text-white",
  purple: "bg-gradient-to-r from-purple-400 to-pink-400 text-white",
};

const iconColorClasses = {
  primary: "from-primary-500 to-primary-600",
  accent: "from-accent-500 to-accent-600",
  orange: "from-orange-400 to-red-500",
  purple: "from-purple-400 to-pink-500",
};
---

<a href={href} class="group block">
  <div class={`relative ${badge ? "group/card" : ""}`}>
    <!-- Animated Glow Border for featured cards -->
    {
      badge && (
        <div class="absolute -inset-0.5 bg-gradient-to-br from-primary-400 via-accent-400 to-primary-500 rounded-[1.2rem] opacity-40 group-hover/card:opacity-80 transition duration-500 blur-sm"></div>
      )
    }

    <div
      class={`relative bg-white/90 backdrop-blur-sm rounded-2xl p-6 border ${badge ? "border-white/50" : "border-slate-100"} h-full shadow-lg shadow-slate-900/5 group-hover:shadow-xl group-hover:-translate-y-1 transition-all duration-300`}
    >
      <!-- Badge -->
      {
        badge && (
          <div
            class={`absolute -top-3 right-4 px-3 py-1 text-xs font-semibold rounded-full shadow-lg ${badgeColorClasses[badgeColor as keyof typeof badgeColorClasses] || badgeColorClasses.primary}`}
          >
            {badge}
          </div>
        )
      }

      <!-- Icon -->
      <div
        class={`w-14 h-14 rounded-2xl bg-gradient-to-br ${iconColorClasses[badgeColor as keyof typeof iconColorClasses] || iconColorClasses.primary} flex items-center justify-center mb-4 text-white shadow-lg shadow-${badgeColor}-500/25 group-hover:scale-110 transition-transform`}
      >
        <Fragment set:html={icon} />
      </div>

      <!-- Content -->
      <h3
        class="text-lg font-bold text-slate-800 mb-2 group-hover:text-primary-600 transition-colors"
      >
        {title}
      </h3>
      <p class="text-sm text-slate-500 mb-4 leading-relaxed">
        {description}
      </p>

      <!-- Price Preview -->
      {
        price && (
          <div class="flex items-baseline gap-1 text-primary-600">
            <span class="text-xs">Mulai dari</span>
            <span class="text-lg font-bold">{price}</span>
          </div>
        )
      }

      <!-- Arrow -->
      <div
        class="absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity"
      >
        <svg
          class="w-5 h-5 text-primary-500"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"></path>
        </svg>
      </div>
    </div>
  </div>
</a>
